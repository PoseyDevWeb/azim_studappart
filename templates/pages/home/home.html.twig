{% extends 'base.html.twig' %}

{% block title %}Hello HomeController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <h1>Hello Alex! ✅</h1>

     <h2>Devine le nombre entre 1 et 100</h2>

    <form id="guessForm">
        <label for="guessInput">Entre ta devinette :</label>
        <input type="number" id="guessInput" min="1" max="100" required>
        <button type="button" onclick="checkGuess()">Vérifier</button>
    </form>

    <p id="result">
        {% set messages = [] %}
        {% for message in messages %}
            {{ message }}<br>
        {% endfor %}
    </p>

    <script>
        const randomNumber = {{ random(1, 100) }}; // Génère un nombre aléatoire entre 1 et 100

        function checkGuess() {
            const userGuess = document.getElementById('guessInput').value;
            const resultMessage = document.getElementById('result');
            const messages = [];

            if (userGuess == randomNumber) {
                messages.push('Bravo ! Tu as deviné le bon nombre.');
            } else if (userGuess < randomNumber) {
                messages.push('Trop bas. Essaie encore !');
            } else {
                messages.push('Trop élevé. Essaie encore !');
            }

            resultMessage.innerHTML = '';
            messages.forEach(message => {
                resultMessage.innerHTML += message + '<br>';
            });
        }
    </script>

    <a href="{{ path('security.logout') }}" class="btn btn-primary mt-4">
      Se Deconnecter
</a>
</div>
{% endblock %}
